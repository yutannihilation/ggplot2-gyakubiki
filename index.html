<!doctype html>
  <html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ggplot2逆引き</title>
    <!-- Material Design Lite -->
    <script src="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.min.js"></script>
    <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.indigo-pink.min.css">
    <!-- Material Design icon font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- Important Owl stylesheet -->
    <link rel="stylesheet" href="owl-carousel/owl.carousel.css">
    <!-- Default Theme -->
    <link rel="stylesheet" href="owl-carousel/owl.theme.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    </head>
  <body>

<div class="mdl-layout mdl-js-layout">

  <!-- Header -->

  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
    <span class="mdl-layout-title">ggplot2逆引き</span>
      <div class="mdl-layout-spacer"></div>
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable
                  mdl-textfield--floating-label mdl-textfield--align-right">
        <label class="mdl-button mdl-js-button mdl-button--icon"
               for="fixed-header-drawer-exp">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="sample"
                 id="fixed-header-drawer-exp" />
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->

  <main class="mdl-layout__content">
    <div class="mdl-grid">
    </div>
  </main>
</div>
<script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="owl-carousel/owl.carousel.min.js"></script>
<script type="text/javascript">
function createCard(title, url, id, images) {
  var elem_card = document.createElement("div");
  elem_card.id = id;
  elem_card.className = "mdl-cell mdl-cell--3-col mdl-card mdl-shadow--2dp";
  
  var elem_title = document.createElement("div");
  elem_title.className = "mdl-card__title color" + (Math.floor(Math.random() * 16 + 1)).toString();
  var elem_titlelink = document.createElement("a");
  elem_titlelink.setAttribute("href", url);
  elem_titlelink.setAttribute("target", "_blank");
  elem_titlelink.text = title;
  elem_title.appendChild(elem_titlelink);
  elem_card.appendChild(elem_title);
  
  var elem_action = document.createElement("div");
  elem_action.className = "mdl-card__actions";
  
  var elem_carousel = document.createElement("div");
  elem_carousel.className = "carousel";
  
  for (var i = 0; i < images.length; i++) {
    var e = document.createElement("img");
    e.setAttribute("src", images[i]);
    elem_carousel.appendChild(e);
  };
  
  elem_action.appendChild(elem_carousel);
  elem_card.appendChild(elem_action);
  
  $('div.mdl-grid').append(elem_card);
  $(elem_carousel).owlCarousel({
        navigation : false, // Show next and prev buttons
        autoPlay: true,
        slideSpeed : 300,
        paginationSpeed : 400,
        singleItem:true
      });
  };

    $(document).ready(function(){
      $.ajax({
        type: 'GET',
        url: './qiita.json',
        scriptCharset: 'utf-8',
        dataType:'json',
        cache: false,
        success: function(json){
          for(var i =0; i < json.length; i++) {
            createCard(json[i].title, json[i].url, json[i].id, json[i].images);
          }
        }
      });
});
</script>
</body>
</html>